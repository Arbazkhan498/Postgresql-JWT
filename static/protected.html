<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>protected Tab</title>
</head>

<body>
    <div class="container">
       <button id="auth">Authenticate</button>

        <script>
            const form = document.getElementById('auth');
            form.addEventListener('onclick', sendReq);

             async function sendReq(event) {
                

                const result= await fetch('/api/protected')
                .then((res)=>res.json())

                console.log(result);
                if(result.status==='ok'){
                    alert('Succeess')
                    console.log('authenticated ')
                }else{
                    alert(result.error)
                }
            }

        </script>
    </div>

</body>

</html>